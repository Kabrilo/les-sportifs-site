<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Roue des Streams</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      background: #0e0e10;
      color: #f4f4f4;
      margin: 0;
      padding: 0;
      text-align: center;
    }

    h1 {
      padding: 30px 0;
      color: #9147ff;
    }

    .wheel-container {
      margin: 40px auto;
      width: 320px;
    }

    canvas {
      border-radius: 50%;
      background: #18181b;
    }

    button {
      margin-top: 20px;
      background-color: #9147ff;
      border: none;
      color: white;
      font-weight: bold;
      padding: 12px 24px;
      border-radius: 8px;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover {
      background-color: #772ce8;
    }
  </style>
</head>
<body>

  <h1>ðŸŽ¡ Roue des Streams</h1>
  <div class="wheel-section">
    <h2>ðŸš— Roue F1 24</h2>
    <div class="wheel-container">
      <canvas id="wheelF1" width="300" height="300"></canvas><br>
      <button onclick="spin('F1')">Lancer la roue</button>
    </div>
  </div>

  <div class="wheel-section">
    <h2>âš½ Roue EAFC 25</h2>
    <div class="wheel-container">
      <canvas id="wheelFC" width="300" height="300"></canvas><br>
      <button onclick="spin('FC')">Lancer la roue</button>
    </div>
  </div>

  <script>
    const wheels = {
      F1: {
        canvas: document.getElementById('wheelF1'),
        items: [...`Sutter termine P5 ou mieux.|Sutter termine P10 ou mieux.|Sutter rÃ©alise le meilleur tour.|Sutter termine sur le podium (P3 ou mieux).|Sutter gagne une course.|Sutter abandonne Ã  cause dâ€™un problÃ¨me moteur.|Sutter abandonne aprÃ¨s un accident.|Sutter termine en dehors du top 10.|Sutter termine P15 ou pire.|Sutter dÃ©passe Leblanc en course.|Sutter est dÃ©passÃ© par Leblanc.|Sutter rate la qualification pour Q3.|Sutter se qualifie en pole position.|Sutter termine P4.|Sutter termine P6.|Sutter termine P7.|Sutter termine P8.|Sutter termine P9.|Sutter termine dernier aprÃ¨s un problÃ¨me mÃ©canique.|Sutter reÃ§oit une pÃ©nalitÃ© de temps.|Sutter reÃ§oit une pÃ©nalitÃ© sur grille pour changement de moteur.|Sutter est impliquÃ© dans un accrochage avec Leblanc.|Sutter rÃ©alise une stratÃ©gie Ã  un arrÃªt gagnante.|Sutter perd des positions aprÃ¨s un arrÃªt au stand lent.|Sutter gagne des positions grÃ¢ce Ã  la stratÃ©gie sous Safety Car.|Sutter est Ã©liminÃ© en Q1 lors des qualifications.|Sutter est Ã©liminÃ© en Q2 lors des qualifications.|Sutter rÃ©alise un dÃ©passement spectaculaire au virage 1.|Sutter est victime dâ€™une crevaison en course.|Sutter termine Ã  moins de 2 secondes du vainqueur.|Leblanc abandonne (DNF) Ã  cause dâ€™un problÃ¨me moteur.|Leblanc abandonne aprÃ¨s un accident au dÃ©part.|Leblanc termine dans les points (P10 ou mieux).|Leblanc termine hors des points (P11 ou pire).|Leblanc rÃ©alise le meilleur tour en course.|Leblanc se qualifie devant Sutter.|Leblanc est dÃ©passÃ© par plusieurs pilotes dans le dernier tour.|Leblanc termine P5 ou mieux.|Leblanc termine P15 ou pire aprÃ¨s des problÃ¨mes techniques.|Leblanc reÃ§oit une pÃ©nalitÃ© de temps pour non-respect des limites de piste.|Leblanc reÃ§oit une pÃ©nalitÃ© sur grille pour changement de boÃ®te de vitesses.|Leblanc gagne une course contre toute attente.|Leblanc rÃ©alise une stratÃ©gie sous Safety Car parfaite et gagne des places.|Leblanc perd plusieurs positions aprÃ¨s un arrÃªt au stand ratÃ©.|Leblanc dÃ©passe plusieurs pilotes dans les derniers tours pour finir dans les points.|Leblanc est impliquÃ© dans un accrochage avec un autre pilote (pas avec Sutter).|Leblanc se qualifie en pole position pour la premiÃ¨re fois de sa carriÃ¨re.|Leblanc rate son dÃ©part et perd plusieurs places au premier tour.|Leblanc est Ã©liminÃ© en Q1 lors des qualifications aprÃ¨s une erreur stratÃ©gique de l'Ã©quipe.|Leblanc est Ã©liminÃ© en Q2 lors des qualifications malgrÃ© un bon rythme en essais libres.`.split('|')]
      },
      FC: {
        canvas: document.getElementById('wheelFC'),
        items: [...`AGL marque un but.|Abdoulaye marque un but.|AGL rÃ©alise une passe dÃ©cisive.|Abdoulaye rÃ©alise une passe dÃ©cisive.|AGL rate un penalty.|Abdoulaye rate un penalty.|AGL marque un doublÃ©.|Abdoulaye marque un doublÃ©.|AGL marque un triplÃ© (hat-trick).|Abdoulaye marque un triplÃ© (hat-trick).|AGL reÃ§oit un carton jaune.|Abdoulaye reÃ§oit un carton jaune.|AGL reÃ§oit un carton rouge.|Abdoulaye reÃ§oit un carton rouge.|AGL marque un but de la tÃªte.|Abdoulaye marque un but de la tÃªte.|AGL marque sur coup franc direct.|Abdoulaye marque sur coup franc direct.|AGL rÃ©ussit une interception clÃ© en dÃ©fense.|Abdoulaye rÃ©ussit une interception clÃ© en dÃ©fense.|AGL perd la balle en position dangereuse.|Abdoulaye perd la balle en position dangereuse.|AGL provoque un penalty.|Abdoulaye provoque un penalty.|AGL fait gagner son Ã©quipe dans les arrÃªts de jeu.|Abdoulaye fait gagner son Ã©quipe dans les arrÃªts de jeu.`.split('|')]
      }
    };

    function drawWheel(ctx, items, rotation) {
      const total = items.length;
      const angle = (2 * Math.PI) / total;
      const radius = 150;
      ctx.clearRect(0, 0, 300, 300);
      ctx.save();
      ctx.translate(150, 150);
      ctx.rotate(rotation);
      items.forEach((item, i) => {
        ctx.beginPath();
        ctx.moveTo(0, 0);
        ctx.fillStyle = i % 2 === 0 ? '#9147ff' : '#772ce8';
        ctx.arc(0, 0, radius, i * angle, (i + 1) * angle);
        ctx.fill();
        ctx.fillStyle = '#fff';
        ctx.rotate(angle / 2);
        ctx.textAlign = 'right';
        ctx.font = '12px Roboto';
        ctx.fillText(item.substring(0, 25) + (item.length > 25 ? 'â€¦' : ''), radius - 10, 4);
        ctx.rotate(angle / 2);
      });
      ctx.restore();
    }

    let spinning = false;
    function spin(type) {
      if (spinning) return;
      spinning = true;
      const wheel = wheels[type];
      const ctx = wheel.canvas.getContext('2d');
      let rotation = 0;
      let speed = Math.random() * 0.2 + 0.25;
      let duration = 3000 + Math.random() * 1000;
      const start = performance.now();
      const total = wheel.items.length;

      (function animate(time) {
        const elapsed = time - start;
        rotation += speed;
        speed *= 0.98;
        drawWheel(ctx, wheel.items, rotation);
        if (elapsed < duration || speed > 0.002) {
          requestAnimationFrame(animate);
        } else {
          const index = Math.floor((total - (rotation / (2 * Math.PI)) * total) % total);
          const result = wheel.items[index];
          setTimeout(() => {
            alert('ðŸŽ¯ RÃ©sultat : ' + result);
            spinning = false;
          }, 300);
        }
      })(performance.now());
    }

    drawWheel(wheels.F1.canvas.getContext('2d'), wheels.F1.items, 0);
    drawWheel(wheels.FC.canvas.getContext('2d'), wheels.FC.items, 0);
  </script>
</body>
</html>
